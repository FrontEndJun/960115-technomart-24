let modal,userName,userEmail,slides=document.getElementsByName("promo-slider"),isLocalStorage=!0,currentSlide=0,buttonBuy=document.querySelectorAll(".action-buy"),writeUsLink=document.querySelector(".write-us-button"),mapLink=document.querySelector(".map"),form=document.querySelector(".modal-write-us form");try{userName=localStorage.getItem("name"),userEmail=localStorage.getItem("mail")}catch(a){isLocalStorage=!1}writeUsLink&&writeUsLink.addEventListener("click",function(a){a.preventDefault(),modal=document.querySelector(".modal-write-us"),modal.classList.add("modal-show"),modal.querySelector("input[name=name]").focus(),isLocalStorage&&(userName&&(modal.querySelector("input[name=name]").value=userName,modal.querySelector("input[name=mail]").focus()),userEmail&&(modal.querySelector("input[name=mail]").value=userEmail,modal.querySelector("textarea[name=letter-text]").focus())),modal.querySelector(".close").addEventListener("click",function(a){a.preventDefault(),modal.classList.remove("modal-show")})}),mapLink&&mapLink.addEventListener("click",function(a){a.preventDefault(),modal=document.querySelector(".popup-map"),modal.classList.add("modal-show"),modal.querySelector(".close").addEventListener("click",function(a){a.preventDefault(),modal.classList.remove("modal-show")})});for(let a,b=0;b<buttonBuy.length;b++)a=buttonBuy[b],a.addEventListener("click",function(a){a.preventDefault(),modal=document.querySelector(".modal-order"),modal.classList.add("modal-show"),modal.querySelector(".close").addEventListener("click",function(a){a.preventDefault(),modal.classList.remove("modal-show")})});function check(){for(let a=0;a<slides.length;a++)slides[a].checked&&(currentSlide=a)}function nextSlide(){check(),++currentSlide>=slides.length&&(currentSlide=0),slides[currentSlide].checked=!0}function prevSlide(){check(),0>--currentSlide&&(currentSlide=slides.length-1),slides[currentSlide].checked=!0}window.addEventListener("keydown",function(a){27===a.keyCode&&document.querySelector(".modal-show").classList.remove("modal-show")}),form&&form.addEventListener("submit",function(){let a=this.querySelector("input[name=name]").value;localStorage.setItem("name",a),a=this.querySelector("input[name=mail").value,localStorage.setItem("mail",a)});
